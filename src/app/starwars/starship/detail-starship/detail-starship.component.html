<div *ngIf="isLoading; else elseBlock">
  <app-loading></app-loading>
</div>
<div class="bg-red-600 px-10"  *ngIf="errorText.length > 0">
  <p>{{errorText}}</p>
</div>
<ng-template #elseBlock>
<div class="flex flex-row rounded my-4">
  <div class="w-full px-6 flex space-x-4">
    <section class="p-6 w-3/4 mx-auto bg-gray-900 rounded-md shadow-md">
      <h2 class="text-lg font-semibold text-gray-300 capitalize">Starship Form</h2>
      <form (ngSubmit)="save()" autocomplete="off" [formGroup]="form">
          <div class="grid grid-cols-4 gap-6 mt-4 sm:grid-cols-4">
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="name">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('name')">
                        should be a valid value
                    </span>
                    Name
                </label>
                  <input 
                    id="name" 
                    type="text" 
                    formControlName="name"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                <label class="text-gray-300 dark:text-gray-200" for="model">
                  <span class="form-text text-danger"
                        *ngIf="isFieldValid('model')">
                      should be a valid value
                  </span>
                  Model
              </label>
                <input 
                  id="model" 
                  type="text" 
                  formControlName="model"
                  class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="manufacturer">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('manufacturer')">
                        should be a valid value
                    </span>
                    manufacturer
                </label>
                  <input 
                    id="manufacturer" 
                    type="text" 
                    formControlName="manufacturer"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="cost_in_credits">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('cost_in_credits')">
                        should be a valid value
                    </span>
                    cost in credits
                </label>
                  <input 
                    id="cost_in_credits" 
                    type="text" 
                    formControlName="cost_in_credits"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="length">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('length')">
                        should be a valid value
                    </span>
                    length
                </label>
                  <input 
                    id="length" 
                    type="text" 
                    formControlName="length"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="max_atmosphering_speed">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('max_atmosphering_speed')">
                        should be a valid value
                    </span>
                    max speed
                </label>
                  <input 
                    id="max_atmosphering_speed" 
                    type="text" 
                    formControlName="max_atmosphering_speed"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="crew">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('crew')">
                        should be a valid value
                    </span>
                    crew
                </label>
                  <input 
                    id="crew" 
                    type="text" 
                    formControlName="crew"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="passengers">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('passengers')">
                        should be a valid value
                    </span>
                    passengers
                </label>
                  <input 
                    id="passengers" 
                    type="text" 
                    formControlName="passengers"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="cargo_capacity">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('cargo_capacity')">
                        should be a valid value
                    </span>
                    cargo_capacity
                </label>
                  <input 
                    id="cargo_capacity" 
                    type="text" 
                    formControlName="cargo_capacity"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="hyperdrive_rating">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('hyperdrive_rating')">
                        should be a valid value
                    </span>
                    hyperdrive_rating
                </label>
                  <input 
                    id="hyperdrive_rating" 
                    type="text" 
                    formControlName="hyperdrive_rating"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="MGLT">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('MGLT')">
                        should be a valid value
                    </span>
                    MGLT
                </label>
                  <input 
                    id="MGLT" 
                    type="text" 
                    formControlName="MGLT"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="starship_class">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('starship_class')">
                        should be a valid value
                    </span>
                    starship_class
                </label>
                  <input 
                    id="starship_class" 
                    type="text" 
                    formControlName="starship_class"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="created">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('created')">
                        should be a valid value
                    </span>
                    created
                </label>
                  <input 
                    id="created" 
                    type="text" 
                    formControlName="created"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="edited">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('edited')">
                        should be a valid value
                    </span>
                    edited
                </label>
                  <input 
                    id="edited" 
                    type="text" 
                    formControlName="edited"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
              <div>
                  <label class="text-gray-300 dark:text-gray-200" for="url">
                    <span class="form-text text-danger"
                          *ngIf="isFieldValid('url')">
                        should be a valid value
                    </span>
                    url
                </label>
                  <input 
                    id="url" 
                    type="text"  
                    formControlName="url"
                    class="block w-full px-4 py-2 mt-2 text-white bg-gray-800 border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
              </div>
          </div>
    
          <div class="flex justify-end mt-6">
              <button class="px-6 py-2 leading-5 text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600">
                {{ myStarship ? 'Updated' : 'Save' }}
              </button>
          </div>
      </form>
    </section>
    <section class="p-6 w-1/4 mx-auto bg-gray-900 rounded-md shadow-md">
      <h2 class="text-lg font-bold text-gray-300 capitalize">Starship Data</h2>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">name:</span>
        {{myStarship?.name}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">model:</span>
        {{myStarship?.model}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">manufacturer:</span>
        {{myStarship?.manufacturer}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">cost_in_credits:</span>
        {{myStarship?.cost_in_credits}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">length:</span>
        {{myStarship?.length}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">max_atmosphering_speed:</span>
        {{myStarship?.max_atmosphering_speed}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">crew:</span>
        {{myStarship?.crew}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">passengers:</span>
        {{myStarship?.passengers}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">cargo_capacity:</span>
        {{myStarship?.cargo_capacity}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">hyperdrive_rating:</span>
        {{myStarship?.hyperdrive_rating}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">MGLT:</span>
        {{myStarship?.MGLT}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">starship_class:</span>
        {{myStarship?.starship_class}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">created:</span>
        {{myStarship?.created}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">edited:</span>
        {{myStarship?.edited}}
      </p>
      <p class="text-gray-300 capitalize">
        <span class="font-bold ">url:</span>
        {{myStarship?.url}}
      </p>
      <div class="flex justify-end mt-6 space-x-4">
        <button 
          (click)="delete()"
          class="px-6 py-2 leading-5 text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600">Delete</button>
        <button 
          (click)="setData()"
        class="px-6 py-2 leading-5 text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600" >Set data</button>
      </div>
    </section>
  </div>
</div>
</ng-template>